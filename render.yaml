services:
  - type: web
    name: patient-portal
    env: node
    buildCommand: npm install && npm run build && cd backend && npm install
    startCommand: cd backend && npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: MONGO_URI
        fromVariable: MONGO_URI
      - key: REACT_APP_API_BASE_URL
        fromVariable: REACT_APP_API_BASE_URL

variables:
  - key: MONGO_URI
    description: Your MongoDB connection string (e.g. mongodb+srv://...)
    sync: false
  - key: REACT_APP_API_BASE_URL
    description: The URL of your Render service (e.g. https://your-app.onrender.com)
    sync: false
